\documentclass[12pt]{article}

\usepackage{amssymb, amsmath, amsfonts}
\usepackage{moreverb}
\usepackage{graphicx}
\usepackage{enumerate}
\usepackage[margin=0.75in]{geometry}
\usepackage{graphics}
\usepackage{color}
\usepackage{array}
\usepackage{float}
\usepackage{hyperref}
\usepackage{textcomp}
\usepackage{bbold}
\usepackage{alltt}
\usepackage{physics}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{tikz}
\usetikzlibrary{positioning}
\usetikzlibrary{arrows}
\usepackage{pgfplots}
\usepackage{bigints}
\allowdisplaybreaks
\pgfplotsset{compat=1.12}

\theoremstyle{plain}
\newtheorem*{theorem*}{Theorem}
\newtheorem{theorem}{Theorem}
\newtheorem*{lemma*}{Lemma}
\newtheorem{lemma}{Lemma}

\newenvironment{definition}[1][Definition]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}

\title{\bf HW \#1}
\author{\bf Sam Fleischer}
\date{\bf January 15, 2015}

\pgfplotsset{compat=1.12}

\begin{document}
\textbf{MATH 201B \hfill Analysis \ \ \hfill Winter 2016\ \ \ }

{\let\newpage\relax\maketitle}

\section*{Exercise 1.1}
\textit{Complete the proof of the the Monotone Class Theorem.}

\begin{lemma}
    \label{monotone_class_lemma}
    The arbitrary intersection of monotone classes in a monotone class.
\end{lemma}
\begin{proof}
    Let $\mathcal{S}$ be the arbitrary intersection of monotone classes $M_j$ for $j \in J$, where $J$ is an index set.  Then let $S_1 \subset S_2 \subset S_3 \subset \dots$ and $S_i \in \mathcal{S}\ \forall i = 1, 2, \dots$.  Then since each $S_i \in M_j$ for each $M_j$ and each $M_j$ is a monotone class, then $\bigcup_{i=1}^\infty S_i \in M_j$ for each $M_j$.  Thus $\bigcup_{i=1}^\infty S_i \in \mathcal{S}$.  Now let $S_1 \supset S_2 \supset S_3 \supset \dots$ and $S_i \in \mathcal{S}\ \forall i = 1, 2, \dots$.  Then since $S_i in M_j$ for each $M_j$ and each $M_j$ is a monotone class, then $\bigcap_{i=1}^\infty S_i \in M_j$ for each $M_j$.  Thus $\bigcap_{i=1}^\infty S_i \in \mathcal{S}$.  Thus $\mathcal{S}$ is a monotone class.
\end{proof}

\begin{theorem}[Monotone Class Theorem]
    Let $\Omega$ be a set a let $\mathcal{A}$ be an algebra of subsets of $\Omega$ such that $\Omega, \emptyset \in \mathcal{A}$.  Then there exists a smallest monotone class $\mathcal{S}$ that contain $\mathcal{A}$.  That class, $\mathcal{S}$, is also the smallest sigma-algebra that contains $\mathcal{A}$.
\end{theorem}

\begin{proof}
    Let $S$ be the intersection of all monotone classes $M_i$ that contain $\mathcal{A}$.  By Lemma \ref{monotone_class_lemma}, $S$ is a monotone class, and thus the smallest monotone class containing $\mathcal{A}$.

    Pick $A \in \mathcal{A}$ and construct $C(A) = \{B \in\mathcal{ S}\ |\ B \cup A \in\mathcal{ S}\}$.  By construction, $C(A) \subset\mathcal{ S}$.  Since $\mathcal{A}$ is an algebra, $\mathcal{A}$ is closed under finite unions, and thus $\mathcal{A} \subset C(A)$.  Now we show $C(A)$ is a monotone class, which would show $\mathcal{S} \subset C(A)$, implying $C(A) = \mathcal{S}$.  Take $B_1 \subset B_2 \subset B_3 \subset \dots$ and $B_i \in C(A)\ \forall i = 1, 2, \dots$.  Then $B_i \cup A \in \mathcal{S}\ \forall i = 1, 2, \dots$ and $(B_1 \cup A) \subset (B_2 \cup A) \subset \dots$.  Then since $\mathcal{S}$ is a monotone class, $\bigcup_{i=1}^\infty (B_i \cup A) \in \mathcal{S}$, but $\bigcup_{i=1}^\infty (B_i \cup A) = \qty(\bigcup_{i=1}^\infty B_i) \cup A$.  Thus $\bigcup_{i=1}^\infty B_i \in C(A)$.  Similarly, take $D_1 \supset D_2 \supset \dots$ and $D_i \in C(A)\ \forall i = 1, 2, \dots$.  Then $D_i \cup A \in \mathcal{S}\ \forall i = 1, 2, \dots$ and $(D_1 \cup A) \supset (D_2 \cup A) \supset \dots$.  Then since $\mathcal{S}$ is a monotone class, $\bigcap_{i=1}^\infty (D_i \cup A) \in \mathcal{S}$, but $\bigcap_{i=1}^\infty (D_i \cup A) = \qty(\bigcap_{i=1}^\infty D_i) \cup A$.  Thus $\bigcap_{i=1}^\infty D_i \in C(A)$.  This proves that $C(A)$ is a monotone class, and thus $C(A) = \mathcal{S}$.

    Now we extend the definition of $C(A)$ to be defined for any $A \in \mathcal{S}$.  Pick $A' \in \mathcal{S}$.  Then since $A' \in C(A)\ \forall A \in \mathcal{A}$, then $A \in C(A')\ \forall A' \in \mathcal{A}$.  Thus $\mathcal{A} \subset C(A')$.  Now we show $C(A')$ is a monotone class, which would show $\mathcal{S} \subset C(A')$, implying $C(A') = \mathcal{S}$.  Take $B_1 \subset B_2 \subset B_3 \subset \dots$ and $B_i \in C(A')\ \forall i = 1, 2, \dots$.  Then $B_i \cup A' \in \mathcal{S}\ \forall i = 1, 2, \dots$ and $(B_1 \cup A') \subset (B_2 \cup A') \subset \dots$.  Then since $\mathcal{S}$ is a monotone class, $\bigcup_{i=1}^\infty (B_i \cup A') \in \mathcal{S}$, but $\bigcup_{i=1}^\infty (B_i \cup A') = \qty(\bigcup_{i=1}^\infty B_i) \cup A'$.  Thus $\bigcup_{i=1}^\infty B_i \in C(A')$.  Similarly, take $D_1 \supset D_2 \supset \dots$ and $D_i \in C(A')\ \forall i = 1, 2, \dots$.  Then $D_i \cup A' \in \mathcal{S}\ \forall i = 1, 2, \dots$ and $(D_1 \cup A') \supset (D_2 \cup A') \supset \dots$.  Then since $\mathcal{S}$ is a monotone class, $\bigcap_{i=1}^\infty (D_i \cup A') \in \mathcal{S}$, but $\bigcap_{i=1}^\infty (D_i \cup A') = \qty(\bigcap_{i=1}^\infty D_i) \cup A'$.  Thus $\bigcap_{i=1}^\infty D_i \in C(A')$.  This proves that $C(A')$ is a monotone class, and thus $C(A') = \mathcal{S}$.  Thus $\mathcal{S}$ is closed under finite unions.

    Now define $C = \{B \in \mathcal{S}\ |\ B^C \in \mathcal{S}\}$.  Since $\mathcal{A}$ is an algebra, $\mathcal{A}$ is closed under complimentation, and thus $\mathcal{A} \subset C$.  Now take $B_1 \subset B_2 \subset \dots$ and $B_i \in C\ \forall i = 1, 2, \dots$.  Then since $B_1^C \supset B_2^C \supset \dots$ and $B_i^C \in \mathcal{S}\ \forall i = 1, 2, \dots$, and since $\mathcal{S}$ is a monotone class, then $\bigcap_{i=1}^\infty \qty(B_i^C) \in S$.  However, $\bigcap_{i=1}^\infty \qty(B_i^C) = \qty(\bigcup_{i=1}^\infty B_i)^C$, and thus $\bigcup_{i=1}^\infty B_i \in C$.  Then take $D_1 \supset D_2 \supset \dots$ and $D_i \in C\ \forall i = 1, 2, \dots$.  Then since $D_1^C \subset D_2^C \subset \dots$ and $D_i^C \in \mathcal{S}$, and since $\mathcal{S}$ is a monotone class, then $\bigcup_{i=1}^\infty \qty(D_1^C) \in S$.  However, $\bigcup_{i=1}^\infty \qty(D_i^C) = \qty(\bigcap_{i=1}^\infty D_C)^C$, and thus $\bigcap_{i=1}^\infty D_i \in C$.  Thus $C$ is a monotone class containing $\mathcal{A}$, and thus $\mathcal{S} \subset C$, proving $C = \mathcal{S}$.  Thus $\mathcal{S}$ is closed under complementation.

    Now we show $\mathcal{S}$ is closed under countable unions and intersections.  Consider a sequene of sets $\{A_i\}_{i=1}^\infty \in \mathcal{S}$.  Then form $B_n = \bigcup_{i=1}^n$.  Since each $B_n$ is a finite union of elements in $\mathcal{S}$, then each $B_n \in \mathcal{S}$.  Also, $B_1 \subset B_2 \subset \dots$.  Since $\mathcal{S}$ is a monotone class, $\bigcup_{n=1}^\infty B_n \in \mathcal{S}$, but $\bigcup_{i=1}^\infty A_i = \bigcup_{n=1}^\infty B_n$, and thus $\mathcal{S}$ is closed under countable unions.  Similarly, form $D_n = \bigcup_{i=1}^n A_i^C$.  Since each $D_i$ is a finite union of elements in $\mathcal{S}$ ($\mathcal{S}$ is closed under complementation), then each $D_i \in \mathcal{S}$.  Also, $D_1 \subset D_2 \subset \dots$.  Since $\mathcal{S}$ is a monotone class, $\bigcup_{n=1}^\infty D_n \in S$, but $\bigcup_{n=1}^\infty D_n = \bigcup_{i=1}^\infty \qty(A_i^C) = \qty(\bigcap_{i=1}^\infty A_i)^C$.  Again, since $\mathcal{S}$ is closed under complementation, $\bigcap_{i=1}^\infty A_i \in \mathcal{S}$.  Thus $\mathcal{S}$ is closed under countable unions and intersections.

    This proves $\mathcal{S}$ is a $\sigma$-algebra.  However, every $\sigma$-algebra is a monotone class, and thus $\mathcal{S}$ must be the smallest $\sigma$-algebra containing $\mathcal{A}$ since it is defined as the smallest monotone class containing $\mathcal{A}$.
\end{proof}

\section*{Exercise 1.2}
\textit{With regard to the remark about continuous functions in Section 1.5, show that $f$ is continuous (in the sense of the usual $\varepsilon, \delta$ definition) if and only if $f$ is both upper and lower semicontinuous.  Show that $f$ is upper semicontinuous at $x$ if and only if, for every sequence $x_1, x_2, \dots$ converging to $x$, we have $f(x) \geq \overline{\lim}_{n\rightarrow \infty} f(x_n)$.}

\begin{definition}
    Consider $f\ :\ \Omega \rightarrow \mathbb{R}$, and define $L_f(t) = \{x \in \Omega\ |\ f(x) > t\}$ and $U_f(t) = \{x \in \Omega\ |\ f(x) < t\}$.  Then $f$ is \emph{lower semicontinuous} if $L_f(t)$ is open $\forall t \in \mathbb{R}$ and $f$ is \emph{upper semicontinous} if $U_f(t)$ is open $\forall t \in \mathbb{R}$.
\end{definition}
\begin{theorem}
    Let $f\ :\ \Omega \rightarrow \mathbb{R}$.  Then $f$ is continuous if and only if $f$ is both upper and lower semincontinuous.
\end{theorem}
\begin{proof}
    Let $f$ a continuous function.  Then $\forall x \in \Omega$ and $\varepsilon > 0$, $\exists \delta > 0$ such that $f(B_\delta(x)) \subset B_\varepsilon(f(x))$.  Fix $t \in \mathbb{R}$ and let $x_L \in L_f(t)$.  Then $f(x_L) = t + \ell$ for some $\ell > 0$.  Now take $\varepsilon = \ell$.  Then by the continuity of $f$, $\exists \delta_\ell$ such that $f(B_{\delta_\ell}(x_L)) \subset B_\ell(t + \ell)$.  But since $t_0 \in B_\ell(t + \ell) \implies t_0 > t$, then $B_{\delta_\ell}(x_L) \subset L_f(t)$.  Thus $L_f(t)$ is open.  Now let $x_U \in U_f(t)$.  Then $f(x_U) = t - u$ for some $u > 0$.  Again, take $\varepsilon = u$, and again by the continuity of $f$, $\exists \delta_u$ such that $f(B_{\delta_u}(x_U)) \subset B_u(f(x_U))$.  But since $t_0 \in B_u(t - u) \implies t_0 < t$, then $B_{\delta_u}(x_U) \subset U_f(t)$.  Thus $U_f(t)$ is open.  Thus $f$ is both upper and lower semicontinuous.

    Now let $f$ be both upper and lower semicontinuous.  Thus $\forall t \in \mathbb{R}$, $L_f(t)$ and $U_f(t)$ are open.  Then pick $x \in \Omega$ and let $t = f(x)$.  Choose $\varepsilon > 0$ and let $t_1 = t - \varepsilon$ and $t_2 = t + \varepsilon$.  Then $x \in L_f(t_2)$ and $x \in U_f(t_1)$.  Since $L_f(t_2)$ and $U_f(t_1)$ are open, then $\exists \delta_L$ and $\delta_U$ such that $f(B_{\delta_L}(x)) \subset B_\varepsilon(t_2)$ and $f(B_{\delta_U}(x)) \subset B_\varepsilon(t_1)$.  Choose $\delta = \min(\delta_L, \delta_U)$ and let $x_0 \in B_\delta(x)$.  Then $t_1 < f(x_0) < t_2$, which shows $f(x_0) \in B_\varepsilon(t)$, and thus $f$ is continuous.

    Thus $f$ is continuous if and only if $f$ is both lower and upper semicontinuous.
\end{proof}

\begin{theorem}
    Let $f\ :\ \Omega \rightarrow \mathbb{R}$.  Then $f$ is upper semicontinuous at $x$ if and only if for every sequence $\{x_i\} \in \Omega$ such that $x_i \rightarrow x$, we have $f(x) \geq \overline{\lim}_{i\rightarrow \infty}f(x_i)$.
\end{theorem}
\begin{proof}
    Fix $x \in \Omega$ and let $f$ by upper semicontinuous at $x$.  Then $\forall \varepsilon > 0$, $\exists \delta > 0$ such that $d_\Omega(x, y) < \delta \implies f(y) - f(x) < \varepsilon$, i.e.~$f(y) < f(x) + \varepsilon$.  Now consider a sequence $\{x_i\} \in \Omega$ such that $x_i \rightarrow x$.  Then consider a sequence $\varepsilon_k$ such that $\varepsilon_k \rightarrow 0$.  By the upper semicontinuity of $f$, then for each $k = 1, 2, \dots$, $\exists \delta_k$ such that $d_\Omega(x,y) < \delta \implies f(y) < f(x) + \varepsilon$.  But by the convergence of $\{x_i\}$, $\exists I_k$ such that $\forall i \geq I_k$, $d_\Omega(x, x_i) < \delta_k$ for each $k = 1, 2, \dots$.  This is equivalent to $\sup_{i \geq I_k}\{f(x_i)\} \leq f(x) + \varepsilon_k$ for each $k = 1, 2, \dots$.  Since we cannot guarantee $I_k \rightarrow \infty$, form a sequence $L_k = \max\{k, I_k\}$ and note $L_k \rightarrow \infty$, $L_k \geq I_k$, and $L_k \geq k$ for each $k = 1, 2, \dots$.  Then
    \begin{align*}
        \sup_{i \geq L_k}\{f(x_i)\} &\leq \sup_{i \geq I_k}\{f(x_i)\} \leq f(x) + \varepsilon_k \\
        \implies \lim_{k \rightarrow \infty}\qty(\sup_{i \geq L_k}\{f(x_i)\}) &\leq \lim_{k \rightarrow \infty} \qty(f(x) + \varepsilon_k) \\
        \implies \lim_{k \rightarrow \infty}\qty(\sup_{i \geq k}\{f(x_i)\}) &\leq f(x) + 0 = f(x) \\
        \implies \overline{\lim}_{i \rightarrow \infty} f(x_i) &\leq f(x)
    \end{align*}

    Now assume $f$ is not upper semicontinuous at $x$.  Then $\exists \varepsilon$ such that $\forall \delta$, $\exists y$ such that $d_\Omega(x,y) < \delta$ and $f(x) + \varepsilon \leq f(y)$.  Consider $\{\delta_k\}$ such that $\delta_k \rightarrow 0$.  For each $\delta_k$, pick $x_k$ such that $d_\Omega(x, x_k) < \delta_k$ but $f(x) + \varepsilon \leq f(x_k)$.  Then clearly $x_k \rightarrow x$ but $\lim_{k\rightarrow \infty} f(x_k) \geq f(x) + \varepsilon$.  Then
    \begin{align*}
        \lim_{k\rightarrow \infty} f(x_k) &\geq f(x) + \varepsilon \\
        \implies \overline{\lim}_{k \rightarrow \infty} f(x_k) &\geq f(x) + \varepsilon > f(x)
    \end{align*}
    Thus, by contrapositive, for every sequence $\{x_i\} \in \Omega$ such that $x_i \rightarrow x$, we have $f(x) \geq \overline{\lim}_{k \rightarrow \infty} f(x_k)$.
\end{proof}

\section*{Exercise 1.3}
\textit{Prove the assertion made in Section 1.5 that for any Borel set $A \subset \mathbb{R}$ and any $\sigma$-algebra $\Sigma$ the set $\{x\ |\ f(x) \in A\} = f^{-1}(A)$ is $\Sigma$-measurable whenever the function $f$ is $\Sigma$-measurable.}

\begin{definition}
    Consider $f\ :\ \Omega \rightarrow \mathbb{R}$ and let $\Sigma$ be a $\sigma$-algebra on $\Omega$.  We say that $f$ is a \emph{measurable function} (with respect to $\Sigma$) if the set $L_f(t) = \{x \in \Omega\ |\ f(x) > t\} = f^{-1}((t, \infty))$ is measurable, i.e.~$L_f(t) \in \Sigma$, for every $t \in \mathbb{R}$.
\end{definition}
\begin{theorem}
    Let $f\ :\ \Omega \rightarrow \mathbb{R}$.  Let $\mathcal{B}$ be the Borel $\sigma$-algebra on $\mathbb{R}$ and let $A \in \mathcal{B}$.  Then the set $P_A = \{x\ |\ f(x) \in A\} = f^{-1}(A)$ is $\Sigma$-measurable whenever $f$ is $\Sigma$-measurable.
\end{theorem}
\begin{proof}
    Consider the interval $(a, b) \subset \mathbb{R}$ ($a < b$).  Note that
    \begin{align*}
        (a, b) &= (-\infty, b) \cap (a, \infty) \\
        &= [b, \infty)^C \cap (a, \infty) \\
        &= \qty[\bigcap_{i = 1}^\infty(b - 2^{-i}, \infty)]^C \cap (a, \infty)
    \end{align*}
    This shows that any open ball in $\mathbb{R}$ is countably $\sigma$-algebraicly generated from sets of the form $(t, \infty)$.  Due to the properties of preimages,
    \begin{align*}
        f^{-1}((a,b)) &= f^{-1}\qty(\qty[\bigcap_{i=1}^\infty (b - 2^{-i}, \infty)]^C \cap (a, \infty)) \\
        &= \qty[\bigcap_{i=1}^\infty f^{-1}(b - 2^{-i}, \infty)]^C \cap f^{-1}((a, \infty)) \\
        &= \qty[\bigcap_{i=1}^\infty L_f(b - 2^{-i})]^C \cap L_f(a)
    \end{align*}
    Thus, since $\Sigma$ is closed under countable unions, countable intersections, and complements, $f^{-1}((a,b)) \in \Sigma$.

    Now consider the set $L = \{B \in \mathcal{B}\ |\ f^{-1}(B) \in \Sigma\}$.  Next we show $L$ is a monotone class.

    Consider $L_1 \subset L_2 \subset \dots$ where $L_i \in L$ for $i = 1, 2, \dots$.  Then $f^{-1}(L_i) \in \Sigma$ for each $i$.  Since $\Sigma$ is a $\sigma$-algebra, $\bigcup_{i=1}^\infty\qty[f^{-1}(L_i)] \in \Sigma$.  But by the properties of preimages, $f^{-1}\qty(\bigcup_{i=1}^\infty L_i) = \bigcup_{i=1}^\infty\qty[f^{-1}(L_i)]$, and thus $f^{-1}\qty(\bigcup_{i=1}^\infty L_i) \in \Sigma$, showing $\bigcup_{i=1}^\infty L_i \in L$.

    Now consider $L_1 \supset L_2 \supset \dots$ where $L_i \in L$ for $i = 1, 2, \dots$.  Then $f^{-1}(L_i) \in \Sigma$ for each $i$.  Since $\Sigma$ is a $\sigma$-algebra, $\bigcap_{i=1}^\infty\qty[f^{-1}(L_i)] \in \Sigma$.  But by the properties of preimages, $f^{-1}\qty(\bigcap_{i=1}^\infty L_i) = \bigcap_{i=1}^\infty\qty[f^{-1}(L_i)]$, and thus $f^{-1}\qty(\bigcap_{i=1}^\infty L_i) \in \Sigma$, showing $\bigcap_{i=1}^\infty L_i \in L$.

    Thus, $L$ is a monotone class.  By the above calculation, we know $B_r(x) \in L$ for all $r > 0$ and $x \in \mathbb{R}$.  Thus $L$ contains all open intervals.  But $\mathcal{B}$ is, by definition, the smallest $\sigma$-algebra (and hence smallest monotone class) containing the open intervals.  Thus $L = \mathcal{B}$.

    This shows $f^{-1}(A)$ is measurable whenever $f$ is measurable.
\end{proof}

\section*{Problem 4}
\textit{Let $\phi\ :\ \mathbb{C} \rightarrow \mathbb{C}$ be a Borel measurable function and let the complex-valued function $f$ be $\Sigma$-measurable.  Prove that $\phi(f(x))$ is $\Sigma$-measurable.}

\begin{lemma}
    Let $f\ :\ \Omega \rightarrow \mathbb{C}$.  Let $\mathcal{B}_\mathbb{C}$ be the Borel $\sigma$-algebra on $\mathbb{C}$ and let $A \in \mathcal{B}_\mathbb{C}$.  Then the set $P_A = \{x\ |\ f(x) \in A\} = f^{-1}(A)$ is $\Sigma$-measurable whenever $f$ is $\Sigma$-measurable.
\end{lemma}
\begin{proof}
    Assume $f$ is $\Sigma$-measurable and let $f_\mathbb{R} + i f_\mathbb{C} = f$ where $f_\mathbb{R}\ :\ \Omega \rightarrow \mathbb{R}$ and $f_\mathbb{C}\ :\ \Omega \rightarrow \mathbb{R}$.  By the definition of measurable complex-valued functions, $f_\mathbb{R}$ and $f_\mathbb{C}$ are measurable, and thus $\forall t \in \mathbb{R}$, $f_\mathbb{R}^{-1}((t, \infty)) \in \Sigma$ and $f_\mathbb{C}^{-1}((t, \infty)) \in \Sigma$.

    Consider the set $L = \{A \in \mathcal{B}_\mathbb{C}\ :\ f^{-1}(A)\in\Sigma\}$ and an arbitrary rectangle $R_{a,b,c,d} = \{x + iy \in \mathbb{C}\ :\ x\in A_1\ \text{and}\ y\in A_2\}$ where $A_1, A_2 \in \mathcal{B}$.  Since $f_\mathbb{R}$ and $f_\mathbb{C}$ are measurable, $f_\mathbb{R}^{-1}(A_1) \in \Sigma$ and $f_\mathbb{C}^{-1}(A_2) \in \Sigma$.  Then $f^{-1}(R_{a,b,c,d}) = f_\mathbb{R}^{-1}((a,b)) \cup f_\mathbb{C}^{-1}((c,d)) \in \Sigma$ since $\Sigma$ is closed under countable unions.  Thus $L$ contains all rectangles in $\mathcal{B}\times\mathcal{B}$.

    Now consider $L_1 \subset L_2 \subset \dots$ where $L_i \in L$ for each $i$.  Then $f^{-1}(L_i) \in \Sigma$ for each $i$.  Then $f^{-1}\qty[\bigcup_{i=1}^\infty L_i] = \bigcup_{i=1}^\infty f^{-1}(L_i) \in \Sigma$.  Thus $\bigcup_{i=1}^\infty L_i \in L$.

    Then consider $L_1 \supset L_2 \supset \dots$ where $L_i \in L$ for each $i$.  Then $f^{-1}(L_i) \in \Sigma$ for each $i$.  Then $f^{-1}\qty[\bigcap_{i=1}^\infty L_i] = \bigcap_{i=1}^\infty f^{-1}(L_i) \in \Sigma$.  Thus $\bigcap_{i=1}^\infty L_i \in L$.

    Thus $L$ is a monotone class.  Since $L$ is a subset of $B_\mathbb{C}$, which is defined as the smallest $\sigma$-algebra containing rectangles, and since the rectangles are contained in $L$, then by the Monotone Class Theorem, $L = \mathcal{B}_\mathbb{C}$.

    This shows $f^{-1}(A)$ is $\Sigma$-measurable whenever $f$ is $\Sigma$-measurable.
\end{proof}
\begin{theorem}
    Let $\phi\ :\ \mathbb{C} \rightarrow \mathbb{C}$ be a Borel measurable function and let $f\ :\ \Omega \rightarrow \mathbb{C}$ be $\Sigma$-measurable.  Prove that $\phi(f(x))$ is $\Sigma$-measurable.
\end{theorem}
\begin{proof}
    Pick $A \in \mathcal{B}_\mathbb{C}$.  Then since $\phi$ is a Borel measurable function, $\phi^{-1}(A) \in \mathcal{B}_\mathbb{C}$.  Then, by Lemma 2, $f^{-1}(\phi^{-1}(A))\in \Sigma$.  However, $f^{-1}(\phi^{-1}(A)) = \qty[\phi f]^{-1}(A)$.  Thus $\phi f$ is $\Sigma$-measurable.
\end{proof}

\section*{Problem 5}
\textit{Prove eauation (2) in Theorem 1.6 (monotone convergence)}

\begin{theorem}
    Let $f_1, f_2, \dots$ be an increasing sequence of summable functions on $(\Omega, \Sigma, \mu)$, with $f$ equal to the pointwise limit of $f_j$ ($f(x) = \lim_{j\rightarrow \infty}f_j(x)$) and $I = \lim_{j\rightarrow \infty} I_j = \lim_{j\rightarrow \infty} \int_{\Omega}f_j \dd \mu$.  Then $f$ is measurable and, moreover, $I$ is finite if and only if $f$ is summable, in which case $I = \int_{\Omega} f \dd \mu$.
\end{theorem}
\textit{Show the following:}
\begin{equation}\tag{2}
    \lim_{j\rightarrow \infty} \int_0^\infty F_{f_j}(t) \dd t = \int_0^\infty F_f(t) \dd t
\end{equation}
where
\begin{align*}
    F_{f_j}(t) = \mu(f^{-1}_j(t, \infty))
\end{align*}
\begin{proof}
    Consider the case where $\int_\Omega f\dd\mu < \infty$.  Then $\forall \varepsilon > 0$, $\exists B_\varepsilon \in \mathbb{R}$, $B_\varepsilon > 0$, such that $F_f(B_\varepsilon) = \mu(f^{-1}(B_\varepsilon, \infty)) < \varepsilon$.  However, since $f_j(x) \leq f(x)$ for each $j$, $F_{f_j}(B_\varepsilon) = \mu(f_j^{-1}(B_\varepsilon, \infty)) \leq F_f(B_\varepsilon) < \varepsilon$ for each $j$.  Since $F_f$, and each $F_{f_j}$, is non-negative and monotone decreasing, $F_{f_j}(t) \leq F_f(t) < \varepsilon$ $\forall t \geq B_\varepsilon$.  Thus,
    \begin{align*}
        \int_\Omega f\dd\mu &= \int_0^\infty F_f(t) \dd t = \int_0^{B_\varepsilon} F_f(t) \dd t + \int_{B_\varepsilon}^\infty F_f(t) \dd t,\ \text{and, for each $j$,} \\
        \int_\Omega f_j\dd\mu &= \int_0^\infty F_{f_j}(t) \dd t = \int_0^{B_\varepsilon} F_{f_j}(t)\dd t + \int_{B_\varepsilon}^\infty F_{f_j}(t)\dd t
    \end{align*}
    Since $\int_\Omega f\dd\mu < \infty$, then $\int_{B_\varepsilon}^\infty F_{f_j}(t) \dd t < \infty$ and $\int_{B_\varepsilon}^\infty F_f(t) \dd t < \infty$.  In fact, as $\varepsilon \rightarrow 0$, then $\int_{B_\varepsilon}^\infty F_{f_j}(t) \dd t \rightarrow 0$ and $\int_{B_\varepsilon}^\infty F_f(t) \dd t \rightarrow 0$.

    So we need only consider the integrals with finite limits, and thus we can approximate $\int_\Omega f \dd \mu$ with Riemann sums.  Denote the upper Riemann sums of a function $g$ under partition $P$ as $R_U(g, P)$ and the lower Riemann sums of a function $g$ under partition $P$ as $R_L(g, P)$.

    Now, choose any $\varepsilon > 0$ and a partition $P_\varepsilon$ of $[0, B]$ such $R_U(F_f, P_\varepsilon) - R_L(F_f, P_\varepsilon) < \varepsilon$.  Then consider the integral
    \begin{align*}
        \int_0^B F_f(t) - F_{f_j}(t) \dd t
    \end{align*}
    Note that since $\{f_j\}_j$ is an increasing sequence for each $x \in \Omega$, that $\{F_{f_j}\}_j$ is an increasing sequence of $t$ for each $t \in [0, B]$.  Thus,
    \begin{align*}
        \int_0^B F_f(t) - F_{f_j}(t) \dd t &\leq R_U(F_f, P_\varepsilon) - R_L(F_{f_j}, P_\varepsilon) \\
        \implies \lim_{j \rightarrow \infty} \qty[\int_0^B F_f(t) - F_{f_j}(t) \dd t] &\leq \lim_{j \rightarrow \infty} \qty[R_U(F_f, P_\varepsilon) - R_L(F_{f_j}, P_\varepsilon)] \\
        \implies \lim_{j \rightarrow \infty} \qty[\int_0^B F_f(t) - F_{f_j}(t) \dd t] &\leq R_U(F_f, P_\varepsilon) - R_L(F_f, P_\varepsilon), \ \text{by the linearity of limits} \\
        \implies \lim_{j \rightarrow \infty} \qty[\int_0^B F_f(t) - F_{f_j}(t) \dd t] &< \varepsilon
    \end{align*}
    Since $\varepsilon$ was arbitrary,
    \begin{align*}
        \lim_{j \rightarrow \infty} \qty[\int_0^B F_f(t) - F_{f_j}(t)] &= 0 \\
        \implies \lim_{j\rightarrow \infty}\int_0^B F_f(t) \dd t &= \lim_{j\rightarrow \infty}\int_0^B F_{f_j}(t) \dd t \\
        \implies \lim_{j\rightarrow \infty} \int_0^B F_{f_j}(t) \dd t &= \int_0^B F_f(t) \dd t
    \end{align*}
    Thus,
    \begin{align*}
        \lim_{j\rightarrow \infty} \int_\Omega f_j \dd \mu = \lim_{j\rightarrow \infty} \int_0^B F_{f_j}(t) \dd t &= \int_0^B F_f(t) \dd t = \int_\Omega f\dd \mu
    \end{align*}
    Now consider the case when $\int_\Omega f \dd \mu = \infty$.  Since $F_{f_j}$ is nonnegative,
    \begin{align*}
        \int_0^n F_{f_j}(t) \dd t &\leq \int_0^\infty F_{f_j}(t) \dd t \\
        \implies \lim_{j\rightarrow \infty} \int_0^n F_{f_j}(t) \dd t &\leq \lim_{j\rightarrow \infty} \int_0^\infty F_{f_j}(t) \dd t
    \end{align*}
    By the first case, limits can pass through integrals with finite limits.
    \begin{align*}
        \int_0^n F_f(t) \dd t &\leq \lim_{j\rightarrow \infty} \int_0^\infty F_{f_j}(t) \dd t \\
        \implies \lim_{n \rightarrow \infty} \qty[\int_0^n F_f(t) \dd t] &\leq \lim_{n \rightarrow \infty} \qty[\lim_{j\rightarrow \infty} \int_0^\infty F_{f_j}(t) \dd t] \\
        \implies \int_0^\infty F_f(t) \dd t &\leq \lim_{j\rightarrow \infty} \int_0^\infty F_{f_j}(t) \dd t \\
        \implies \infty = \int_0^\infty F_f(t) \dd t &\leq \lim_{j\rightarrow \infty} \int_0^\infty F_{f_j}(t) \dd t \\
        \implies \lim_{j\rightarrow \infty} \int_0^\infty F_{f_j}(t) \dd t &= \infty = \int_0^\infty F_f(t) \dd t
    \end{align*}
    Thus,
    \begin{align*}
        \lim_{j\rightarrow \infty} \int_\Omega f_j \dd\mu = \lim_{j\rightarrow \infty}\int_0^\infty F_{f_j}(t) \dd t = \int_0^\infty F_f(t) \dd t = \int_\Omega f \dd \mu
    \end{align*}
\end{proof}

\end{document}
